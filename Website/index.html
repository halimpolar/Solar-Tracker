<!DOCTYPE html>
<html>
   <head>
   <script type="text/javascript" src="zepto.min.js"></script>
   <script type="text/javascript" src="smoothie.js"></script>
     <script type="text/javascript">
     
     
         function refresh() {
           $('#content').load('/arduino/solarvoltage');
            var chaine = document.getElementById("content").innerHTML;
            nb=parseFloat(chaine); 
           
            

        }
</script>

   </head>
   <body onload="setInterval(refresh, 1000);">
      <span id="content">0</span>
   </body>

     <head>
    <title>Smoothie Chart Example</title>
    <script type="text/javascript" src="smoothie.js"></script>
  </head>
  <body>

    <h1>Smoothie Example</h1>

    <canvas id="mycanvas" width="400" height="100"></canvas>

    <script type="text/javascript">

      // Random data
      var line1 = new TimeSeries();
      
      setInterval(function() {

          $('#content').load('/arduino/temperature');
         var chaine = document.getElementById("content").innerHTML; 
        nb=parseFloat(chaine); 
        line1.append(new Date().getTime(), nb);
        
      }, 1000);

      var smoothie = new SmoothieChart({ grid: { strokeStyle: 'rgb(125, 0, 0)', fillStyle: 'rgb(60, 0, 0)', lineWidth: 1, millisPerLine: 250, verticalSections: 6 } });
      smoothie.addTimeSeries(line1, { strokeStyle: 'rgb(0, 255, 0)', fillStyle: 'rgba(0, 255, 0, 0.4)', lineWidth: 3 });
      
      smoothie.streamTo(document.getElementById("mycanvas"), 1000);
    </script>

    <p><a href="tutorial.html">Return to tutorial</a></p>
  
  </body>
</html>

